/*
 * This file was generated by the Gradle 'init' task.
 *
 * This project uses @Incubating APIs which are subject to change.
 */
buildscript {
    ext {
        logback_version = '1.3.0-alpha4'
        appModuleName = 'project.md'
        appMainClass = 'com.neoterux.pmd.MainApp'
        appLauncher = 'tgame'
    }

    repositories {
        mavenLocal()
        maven {
            url = uri('https://repo.maven.apache.org/maven2/')
        }
    }
}

plugins {
    id 'java'
    id 'application'
    id 'org.beryx.jlink' version '2.24.4'
    id 'org.openjfx.javafxplugin' version '0.0.10'
}

repositories {
    mavenCentral()
}

group = 'com.neoterux'
version = '0.0.1'
description = 'Proyecto-Md'
mainClassName = "${ext.appModuleName}/${ext.appMainClass}"
application.mainModule = "${ext.appModuleName}"
project.ext.buildDate = new Date()
project.version = version

targetCompatibility = "17"
sourceCompatibility = "17"
java.sourceCompatibility = JavaVersion.VERSION_17


javafx {
    version = '17.0.2'
    modules = ['javafx.fxml', 'javafx.controls']
}

dependencies {
    implementation "ch.qos.logback:logback-classic:$logback_version"
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'
}

application{
    mainModule = "project.md"
    mainClassName = "com.neoterux.pmd.MainApp"
}


jlink {
    options = ['--strip-debug', '--compress', '2', '--no-header-files']
    launcher {
        name = 'tgame-launcher'
    }
    addExtraDependencies("javafx")
    forceMerge("log4j-api")
}


tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

configurations {
    create("testCompile")
}

test {
    useJUnitPlatform()
}
